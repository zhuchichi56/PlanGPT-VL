
# fileA:
# {
#     "prompt": "Detailed Instructions: A text is given in English. Translate it from the English language to the Telugu language. The translation must not omit or add information to the original sentence.\nSee one example below:\nProblem: Our nation has an experience of 200-225 years in manufacturing metal\nSolution: à°®à°¾ à°¦à±‡à°¶à°‚ à°¤à°¯à°¾à°°à±€à°²à±‹ 200-225 à°¸à°‚à°µà°¤à±à°¸à°°à°¾à°²à°²à±‹ à°…à°¨à±à°­à°µà°‚ à°‰à°‚à°¦à°¿\nExplanation: Correct translation for given sentence. Input sentence means 'Our nation has an experience of 200-225 years in manufacturing metal' which is the same as the output sentence.\n\nProblem: Observing that science and technology has been an integral part of Indias culture and tradition, he told the scientists to find solutions to the present and emerging problems. Mankind faces numerous challenges related to climate change, global warming, sustainable development, clean energy, water etc.\nSolution:",
#     "prompt_id": "f431c559321b45d75c02639d3c2f280619a7d9060ad382e20480e40e93ce059d",
#     "chosen": [
#       {
#         "content": "Detailed Instructions: A text is given in English. Translate it from the English language to the Telugu language. The translation must not omit or add information to the original sentence.\nSee one example below:\nProblem: Our nation has an experience of 200-225 years in manufacturing metal\nSolution: à°®à°¾ à°¦à±‡à°¶à°‚ à°¤à°¯à°¾à°°à±€à°²à±‹ 200-225 à°¸à°‚à°µà°¤à±à°¸à°°à°¾à°²à°²à±‹ à°…à°¨à±à°­à°µà°‚ à°‰à°‚à°¦à°¿\nExplanation: Correct translation for given sentence. Input sentence means 'Our nation has an experience of 200-225 years in manufacturing metal' which is the same as the output sentence.\n\nProblem: Observing that science and technology has been an integral part of Indias culture and tradition, he told the scientists to find solutions to the present and emerging problems. Mankind faces numerous challenges related to climate change, global warming, sustainable development, clean energy, water etc.\nSolution:",
#         "role": "user"
#       },
#       {
#         "content": "à°¸à°¾à°¯à°¨à±à°¸à± à°®à°°à°¿à°¯à± à°Ÿà±†à°•à±à°¨à°¾à°²à°œà±€ à°‡à°‚à°¡à°¿à°¯à°¾ à°¸à°‚à°¸à±à°•à±ƒà°¤à°¿ à°®à°°à°¿à°¯à± à°¸à°¾à°‚à°ªà±à°°à°¦à°¾à°¯à°¿à°•à°¤ à°¯à±Šà°•à±à°• à°…à°¨à°§à°¿à°—à°¤ à°­à°¾à°—à°‚ à°…à°¯à°¿à°¨à°‚à°¦à±à°¨ à°…à°®à°°à°¿à°• à°µà°¿à°œà±à°žà°¾à°¨à±à°²à°•à± à°ªà±à°°à°¸à±à°¤à±à°¤ à°®à°°à°¿à°¯à± à°Žà°¦à°¿à°—à°¿à°¨ à°¸à°®à°¸à±à°¯à°²à°•à± à°ªà°°à°¿à°·à±à°•à°¾à°°à°¾à°²à°¨à± à°•à°¨à±à°—à±Šà°¨à°¾à°²à±à°²à°¾ à°šà±†à°¬à±à°¤à°¾à°°à±. à°®à°¾à°¨à°µ à°œà°¾à°¤à°¿à°•à°¿ à°µà°¾à°¤à°¾à°µà°°à°£ à°®à°¾à°°à±à°ªà±, à°µà±‡à°°à±à°²à±à°¡à± à°µà±à°¯à°¾à°ªà±à°¤à°‚à°—à°¾ à°µà±†à°²à°¿à°‚à°ªà±‚à°•à±, à°¸à°¾à°²à°·à°®à±ˆà°¨ à°…à°­à°¿à°µà±ƒà°¦à±à°§à°¿, à°¶à±à°¦à±à°§ à°µà±‡à°¸à°µà°¿, à°œà°²à°‚ à°®à±Šà°¦à°²à±ˆà°¨ à°…à°¨à±‡à°• à°ªà±à°°à°¯à°¤à±à°¨à°¾à°²à± à°Žà°¦à±à°°à°µà±à°¤à±à°¨à±à°¨à°¾à°¯à°¿.",
#         "role": "assistant"
#       }
#     ],
#     "rejected": [
#       {
#         "content": "Detailed Instructions: A text is given in English. Translate it from the English language to the Telugu language. The translation must not omit or add information to the original sentence.\nSee one example below:\nProblem: Our nation has an experience of 200-225 years in manufacturing metal\nSolution: à°®à°¾ à°¦à±‡à°¶à°‚ à°¤à°¯à°¾à°°à±€à°²à±‹ 200-225 à°¸à°‚à°µà°¤à±à°¸à°°à°¾à°²à°²à±‹ à°…à°¨à±à°­à°µà°‚ à°‰à°‚à°¦à°¿\nExplanation: Correct translation for given sentence. Input sentence means 'Our nation has an experience of 200-225 years in manufacturing metal' which is the same as the output sentence.\n\nProblem: Observing that science and technology has been an integral part of Indias culture and tradition, he told the scientists to find solutions to the present and emerging problems. Mankind faces numerous challenges related to climate change, global warming, sustainable development, clean energy, water etc.\nSolution:",
#         "role": "user"
#       },
#       {
#         "content": "à°®à°¾ à°®à±†à°¯à°¿à°¸à±à°Ÿà± à°®à°‚à°¦à°¿ à°²à±‹ à°†à°¯à°¨ à°ªà±à°°à°¸à±à°¤à±à°¤à°¿ à°šà±‡à°¸à°¿à°¨à°¦à°¿ à°¦à±‡à°¶à°‚ à°—à°¾à°¯à°¿ à°à°¡à±à°¦à°¿ à°†à°¯à°¨ à°•à±à°²à°¸à±à°•à±†à°‚à°—à± à°Žà°‚à°¦à±à°•à± à°®à°¾à°°à±à°šà±à°•à±à°¨à±à°¨ à°°à°¾à°œà°¾à°¤à±‹ à°ªà°°à°¿à°•à°°à°¿à°£à°¾à°²à°¨à± à°®à°¾à°Ÿà±à°²à°¾à°¡à°¿ à°®à±‹à°¹à°¨à°¾à°¯à°¿ à°ªà±à°°à°¯à°¤à±à°¨à°¿à°•à°²à±à°²à±‹ à°¤à°ªà°¿à°ªà°¦à°¿ à°¦à±à°µà°¾à°°à°¾ à°®à°¾à°Ÿà±à°²à°¾à°¡à°¿ à°µà°¿à°­à°µà°¿à°·à±à°•à°¾à°£à°‚, à°à°—à±à°®à°¿à°²à± à°µà±à°®à°²à± à°—à±à°°à±€à°Ÿà± à°¹à±ƒà°¦à°¯à°®à±, à°¸à±Œà°®à±à°¯à°‚à°—à±à°²à± à°…à°¨à±à°¨à°¿ à°Ÿà°¾à°²à°¿à°•à± à°Žà°²à°¾ à°•à±à°²à°¿à°•à°¿à°‚à°šà°¿ à°µà°¿à°¸à±à°¤à±à°‚à°¦à°¿ à°†à°¯à°¨ à°µà°¿à°ªà°°à°¿à°¯à°²à± à°²à±‡à°¦à°¾ à°ˆ à°ªà±à°°à°œà°²à±à°²à±‹ à°µà°¿à°­à°µà°¿à°·à±à°•à°¾à°£à°‚ à°²à±‹ à°®à°°à°¿à°¯à± à°µà°¿à°¸à±à°¤à±‡à°¶à°¾à°²à±à°²à±‹ à°®à°¾à°°à±à°šà°²à±‡à°¦à°¾\n\nExplanation: I have translated the problem statement into Telugu. Please let me know if you need any changes.",
#         "role": "assistant"
#       }
#     ],
#     "score_chosen": 9.0,
#     "score_rejected": 2.0
#   },



# fileB:
# {
#     "conversations": [
#       {
#         "from": "human",
#         "value": "Hi! I'd like to create a new language game simulating the first person perspective of a character named Angela."
#       }
#     ],
#     "chosen": {
#       "from": "gpt",
#       "value": "That sounds like a fun and engaging idea! Here are some tips to help you create the game:\n1. Start with the character's name and background: Before creating the game, it's important to have a clear idea of who Angela is and where she comes from. What is her age, gender, occupation, and interests? Knowing these details will help you create a relatable and realistic character that players can connect with.\n2. Decide on the objective of the game: What is the main objective of the game? Is it to help Angela navigate through a challenging environment, solve puzzles, or interact with other characters? Once you have a clear objective, you can start designing the game mechanics.\n3. Design the game mechanics: The game mechanics are the rules and controls that players use to interact with the game environment. Consider the camera angle, movement, interaction with objects, and any other features that will enhance the player's experience.\n4. Create a storyline: A storyline can add depth to the game and make it more engaging. Consider the obstacles that Angela will face, the challenges she will encounter, and the rewards she will receive.\n5. Add sound effects and music: Sound effects and music can help create atmosphere and enhance the player's experience. Consider using appropriate sound effects for each environment and adding music that fits the storyline.\n6. Test and refine: Once you have created the game, it's important to test it and get feedback from players. Use this feedback to refine the game and make it better.\nWith these tips, you should be well on your way to creating a fun and engaging language game simulating the first person perspective of Angela. Good luck!"
#     },
#     "rejected": {
#       "from": "gpt",
#       "value": "Hello! I'd be happy to help you create a language game simulating the first-person perspective of a character named Angela! What kind of game are you imagining? Do you have any specific details or themes in mind for the game, such as a setting, plot, or style? The more information you can provide, the better I can assist you. Additionally, please let me know if you have any specific preferences for the language or tone of the game. I'll do my best to suggest engaging and accurate responses as your helpful, respectful, and honest assistant! ðŸ˜Š"
#     }
#   },

import json
def load_json(file_path):
    with open(file_path, "r") as f:
        data = json.load(f)
    return data


def save_json(data, file_path):
    with open(file_path, "w") as f:
        json.dump(data, f)


def convert_fileA_to_fileB(fileA_data_list):

    fileB_data_list = []
    
    for fileA_data in fileA_data_list:
        fileB_data = {
            "conversations": [
                {
                    "from": "human",
                    "value": fileA_data["prompt"]
                }
            ],
            "chosen": {
                "from": "gpt",  # Using "gpt" as this appears to be the convention in fileB
                "value": fileA_data["chosen"][1]["content"] if len(fileA_data["chosen"]) > 1 else ""
            },
            "rejected": {
                "from": "gpt",
                "value": fileA_data["rejected"][1]["content"] if len(fileA_data["rejected"]) > 1 else ""
            }
        }
        fileB_data_list.append(fileB_data)
    
    return fileB_data_list

if __name__ == "__main__":
    fileA_data_list = load_json("/HOME/sustc_ghchen/sustc_ghchen_4/LLaMA-Factory/data/selected_data_dpo.json")
    fileB_data_list = convert_fileA_to_fileB(fileA_data_list)
    save_json(fileB_data_list, "/HOME/sustc_ghchen/sustc_ghchen_4/LLaMA-Factory/data/selected_data_dpo.json")
    
    # Uncomment to convert from fileB to fileA
    # fileB_data_list = load_json("data/fileB.json")
    # fileA_data_list = convert_fileB_to_fileA(fileB_data_list)
    # save_json(fileA_data_list, "data/fileA.json")
